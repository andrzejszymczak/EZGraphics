
CC = g++ 
OPT =  -Wall -I/usr/include/glm -I.  -O2
LIBOPT = -lglut -lGL -lGLEW
SOURCES = buffer.cpp framebuffer.cpp glutwrapper.cpp handlerbase.cpp menucreator.cpp mesh.cpp program.cpp shader.cpp texture.cpp tfprogram.cpp trackball.cpp trackballhandler.cpp vertexarray.cpp 
OBJECTS = $(subst .cpp,.o,$(SOURCES))

all : $(SOURCES) simple-viewer viewer

viewer : $(OBJECTS) viewer.o Makefile
	$(CC) $(OPT) -o viewer $(OBJECTS) viewer.o $(LIBOPT)

simple-viewer : $(OBJECTS) simple-viewer.o Makefile
	$(CC) $(OPT) -o simple-viewer $(OBJECTS) simple-viewer.o $(LIBOPT)

%.o: %.cpp *.h Makefile
	$(CC) $(OPT) -c -o $@ $< 

clean : 
	rm *.o viewer

